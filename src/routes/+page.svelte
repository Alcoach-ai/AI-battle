<script lang="ts">
	import { authStore } from '$lib/stores/auth';
	import { userStore } from '$lib/stores/user';
	import { ROUTES } from '$lib/constants/routes';
	import { page } from '$app/stores';
	import { onMount } from 'svelte';
	import { fade } from 'svelte/transition';

	let showError = false;
	let errorMessage = '';

	onMount(() => {
		const error = $page.url.searchParams.get('error');
		if (error === 'unauthorized') {
			showError = true;
			errorMessage = '–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É';
			setTimeout(() => {
				showError = false;
			}, 5000);
		}
	});
</script>

{#if showError}
	<div class="error-message" transition:fade>
		{errorMessage}
	</div>
{/if}

<nav class="navigation">
	<div class="nav-content">
		<div class="nav-logo">‚òÖ</div>
		<div class="nav-links">
			<a href={ROUTES.COMPETITIONS}>–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è</a>
			<a href={ROUTES.LEARNING}>–û–±—É—á–µ–Ω–∏–µ</a>
			<a href={ROUTES.FORUM}>–§–æ—Ä—É–º</a>
			<a href={ROUTES.FAQ}>FAQ</a>
			<a href={ROUTES.CONTACTS}>–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
		</div>
		<div class="nav-profile">
			<a href={ROUTES.PROFILE}>üë§</a>
		</div>
	</div>
</nav>

<main>
	<section class="hero">
		<div class="hero-content">
			<div class="hero-text">
				<h1>–ù–∞—á–Ω–∏ —É—á–∏—Ç—å—Å—è<br>—Å <span class="brand">RLArena</span></h1>
				<p>–†–µ—à–∞–π—Ç–µ –∑–∞–¥–∞—á–∏, —É—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö, –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ –∫—É—Ä—Å—ã –∏ –¥–æ—Å—Ç–∏–≥–∞–π—Ç–µ –Ω–æ–≤—ã—Ö –≤—ã—Å–æ—Ç –≤ –º–∏—Ä–µ –ò–ò!</p>
				<a href={ROUTES.START} class="cta-button">–ù–∞—á–∞—Ç—å</a>
			</div>
			<div class="hero-image">
				<img src="/images/hero-illustration.svg" alt="Students learning" />
			</div>
		</div>
	</section>

	<section class="for-whom">
		<div class="for-whom-content">
			<div class="for-whom-image">
				<img src="/images/robot-illustration.svg" alt="Robot illustration" />
			</div>
			<div class="for-whom-text">
				<h2>–ö–æ–º—É –ø–æ–¥–æ–π–¥–µ—Ç<br>RLArena</h2>
				<p>RLArena ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≤—Å–µ—Ö, –∫—Ç–æ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤—É –≤ –º–∞—à–∏–Ω–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏. –ó–¥–µ—Å—å —Å—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –æ–±—É—á–∞—Ç—å—Å—è –∏ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –∏ –∫—É—Ä—Å—ã, –∞ –≤—Å–µ –∂–µ–ª–∞—é—â–∏–µ ‚Äî —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –∏ –¥–µ–ª–∏—Ç—å—Å—è –∑–Ω–∞–Ω–∏—è–º–∏. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É –∏ –¥–æ—Å—Ç–∏–≥–∞–π—Ç–µ –Ω–æ–≤—ã—Ö –≤—ã—Å–æ—Ç –≤ –º–∏—Ä–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è!</p>
			</div>
		</div>
	</section>
</main>

<style>
	.navigation {
		background: white;
		padding: 1rem 0;
		box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	}

	.nav-content {
		max-width: 1200px;
		margin: 0uto;
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 0 2rem;
	}

	.nav-logo {
		font-size: 1.5rem;
	}

	.nav-links {
		display: flex;
		gap: 2rem;
	}

	.nav-links a {
		color: #4A5568;
		text-decoration: none;
		font-size: 1rem;
	}

	.nav-links a:hover {
		color: #2B6CB0;
	}

	main {
		background-color: #EBF8FF;
	}

	.hero {
		padding: 4rem 0;
	}

	.hero-content {
		max-width: 1200px;
		margin: 0 auto;
		display: flex;
		align-items: center;
		padding: 0 2rem;
		gap: 4rem;
	}

	.hero-text {
		flex: 1;
	}

	.hero-text h1 {
		font-size: 3.5rem;
		color: #1A202C;
		margin-bottom: 1.5rem;
		line-height: 1.2;
	}

	.brand {
		color: #4299E1;
	}

	.hero-text p {
		font-size: 1.25rem;
		color: #4A5568;
		margin-bottom: 2rem;
		line-height: 1.6;
	}

	.cta-button {
		display: inline-block;
		background: #000;
		color: white;
		padding: 1rem 2rem;
		border-radius: 0.5rem;
		text-decoration: none;
		font-weight: 500;
	}

	.cta-button:hover {
		background: #1A202C;
	}

	.hero-image {
		flex: 1;
	}

	.hero-image img {
		width: 100%;
		height: auto;
	}

	.for-whom {
		padding: 4rem 0;
		background: white;
	}

	.for-whom-content {
		max-width: 1200px;
		margin: 0 auto;
		display: flex;
		align-items: center;
		padding: 0 2rem;
		gap: 4rem;
	}

	.for-whom-image {
		flex: 1;
	}

	.for-whom-image img {
		width: 100%;
		max-width: 400px;
	}

	.for-whom-text {
		flex: 1;
	}

	.for-whom-text h2 {
		font-size: 2.5rem;
		color: #1A202C;
		margin-bottom: 1.5rem;
		line-height: 1.2;
	}

	.for-whom-text p {
		font-size: 1.1rem;
		color: #4A5568;
		line-height: 1.6;
	}

	@media (max-width: 768px) {
		.hero-content, .for-whom-content {
			flex-direction: column;
			text-align: center;
			gap: 2rem;
		}

		.hero-text h1 {
			font-size: 2.5rem;
		}

		.nav-links {
			display: none;
		}
	}

	.error-message {
		position: fixed;
		top: 1rem;
		left: 50%;
		transform: translateX(-50%);
		background: #FEE2E2;
		color: #991B1B;
		padding: 1rem 2rem;
		border-radius: 0.5rem;
		box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
		z-index: 50;
	}
</style>
